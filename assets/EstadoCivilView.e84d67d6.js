import{r as s,o as n,c as a,F as U,g as L,a as t,d as v,h as p,v as f,i as C,b as M,w as q,u as B,R as G,t as x}from"./index.9f4b444d.js";import{a as d}from"./axios.91e25212.js";const R={class:"main__section"},F=t("h1",null,"Listado de Estados civiles",-1),S={key:0,class:"lds-facebook"},A=t("div",null,null,-1),j=t("div",null,null,-1),z=t("div",null,null,-1),H=[A,j,z],J={key:1,class:"data__table"},K=t("div",{class:"table__labels"},[t("p",null,"ID"),t("p",null,"Descripcion"),t("p",null,"Eliminar"),t("p",null,"Modificar")],-1),O=["onClick"],P=t("i",{class:"fa-solid fa-trash"},null,-1),Q=[P],W=["onClick"],X=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),Y=[X],Z=t("h1",null,"Nueva Ciudad",-1),tt=t("h3",null,"Guardado",-1),et=t("i",{class:"fa-solid fa-check"},null,-1),lt=[tt,et],ot={class:"new-data__container"},st={key:0,class:"error"},nt=t("h3",null,"Rellena todos los campos",-1),at=[nt],it={class:"btn-table-container"},ut=t("i",{class:"fa-solid fa-house"},null,-1),ct=t("i",{class:"fa-solid fa-plus"},null,-1),dt=[ct],pt={__name:"EstadoCivilView",setup(rt){const h=s(),i=s(""),u=s(null),b=s(null),m=s(null),w=s(!1),c=s(null),r=s(null),y=s(),k=s([]);async function _(){const o=await d.get("http://localhost:5000/ec");k.value=o.data,console.log(o.data)}async function D(o){try{await d.delete(`http://localhost:5000/ec/${o}`),_()}catch(e){console.log(e)}}async function E(o){try{await d.put(`http://localhost:5000/ec/${o}`,{descripcionEc:r.value,idestado_civil:c.value}),_()}catch(e){console.log(e)}}function V(o,e){y.value.style.animation="enter .5s both",c.value=o,r.value=e}async function g(){try{const o=await d.get("http://localhost:5000/idestado_civil");i.value=o.data[0].id,console.log()}catch(o){console.log(o)}}async function N(){if(i.value&&u.value){b.value=!1;try{await d.post("http://localhost:5000/ec",{idestado_civil:i.value,descripcionEc:u.value}),w.value=!0,_()}catch(o){console.log(o)}}else b.value=!0,console.log("Error")}function $(){setTimeout(()=>{g(),u.value="",m.value.style.animation="saveLeave .5s both"},300)}return g(),_(),(o,e)=>(n(),a("section",R,[F,k.value.length?(n(),a("div",J,[K,(n(!0),a(U,null,L(k.value,(l,T)=>(n(),a("div",{class:"table__row",key:T},[t("p",null,x(l.idestado_civil),1),t("p",null,x(l.descripcionEc),1),t("button",{title:"Eliminar",class:"link__button row__button",onClick:I=>D(l.idestado_civil)},Q,8,O),t("button",{title:"Modificar",class:"link__button row__button",onClick:I=>V(l.idestado_civil,l.descripcionEc)},Y,8,W)]))),128)),t("div",{class:"modify",ref_key:"modifyTab",ref:y},[t("label",null,[v(" ID "),p(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l)},null,512),[[f,c.value]])]),t("label",null,[v(" Descripcion "),p(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l)},null,512),[[f,r.value]])]),t("button",{class:"link__button",onClick:e[2]||(e[2]=l=>E(c.value))}," Guardar "),t("button",{class:"link__button",onClick:e[3]||(e[3]=l=>y.value.style.animation="leave .5s forwards")},"Cancelar")],512),t("section",{class:"newEntry",ref_key:"newTab",ref:h},[Z,w.value?(n(),a("div",{key:0,class:"guardado",ref_key:"saveMsg",ref:m,onAnimationend:$},lt,544)):C("",!0),t("div",ot,[t("label",null,[v(" ID "),p(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>i.value=l),required:""},null,512),[[f,i.value]])]),t("label",null,[v(" Descripcion "),p(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>u.value=l),required:""},null,512),[[f,u.value]])]),t("button",{class:"link__button",onClick:N},"Guardar"),t("button",{class:"link__button",onClick:e[6]||(e[6]=l=>h.value.style.animation="leaveNew .5s forwards")}," Cancelar "),b.value?(n(),a("div",st,at)):C("",!0)])],512)])):(n(),a("div",S,H)),t("div",it,[M(B(G),{title:"Inicio",to:"/",class:"link__button btn-table home"},{default:q(()=>[ut]),_:1}),t("button",{onClick:e[7]||(e[7]=l=>h.value.style.animation="enterNew .5s forwards"),title:"Nuevo registro",class:"link__button btn-table new"},dt)])]))}};export{pt as default};
