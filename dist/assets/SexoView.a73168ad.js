import{r as s,f as E,o as n,c as a,F as M,g as L,a as e,d as v,h as p,v as f,i as g,b as q,w as B,t as C}from"./index.4b7a655a.js";import{a as r}from"./axios.91e25212.js";const G={class:"main__section"},F=e("h1",null,"Listado de Sexos",-1),A={key:0,class:"lds-facebook"},R=e("div",null,null,-1),j=e("div",null,null,-1),z=e("div",null,null,-1),H=[R,j,z],J={key:1,class:"data__table"},K=e("div",{class:"table__labels"},[e("p",null,"ID"),e("p",null,"Descripcion"),e("p",null,"Eliminar"),e("p",null,"Modificar")],-1),O=["onClick"],P=e("i",{class:"fa-solid fa-trash"},null,-1),Q=[P],W=["onClick"],X=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),Y=[X],Z=e("h1",null,"Nueva Ciudad",-1),ee=e("h3",null,"Guardado",-1),te=e("i",{class:"fa-solid fa-check"},null,-1),oe=[ee,te],le={class:"new-data__container"},se={key:0,class:"error"},ne=e("h3",null,"Rellena todos los campos",-1),ae=[ne],ie={class:"btn-table-container"},ue=e("i",{class:"fa-solid fa-house"},null,-1),ce=e("i",{class:"fa-solid fa-plus"},null,-1),re=[ce],pe={__name:"SexoView",setup(de){const h=s(),i=s(""),u=s(null),b=s(null),y=s(null),x=s(!1),m=s([]),c=s(null),d=s(null),k=s();async function _(){const l=await r.get("http://localhost:5000/sexo");m.value=l.data}async function D(l){try{await r.delete(`http://localhost:5000/sexo/${l}`),_()}catch(t){console.log(t)}}async function V(l){try{await r.put(`http://localhost:5000/sexo/${l}`,{descripcionSex:d.value,idsexo:c.value}),_()}catch(t){console.log(t)}}function N(l,t){k.value.style.animation="enter .5s both",c.value=l,d.value=t}async function w(){try{const l=await r.get("http://localhost:5000/idsexo");i.value=l.data[0].id,console.log()}catch(l){console.log(l)}}async function S(){if(i.value&&u.value){b.value=!1;try{await r.post("http://localhost:5000/sexo",{idsexo:i.value,descripcionSex:u.value}),x.value=!0,_()}catch(l){console.log(l)}}else b.value=!0,console.log("Error")}function $(){setTimeout(()=>{w(),u.value="",y.value.style.animation="saveLeave .5s both"},300)}return w(),_(),(l,t)=>{const T=E("router-link");return n(),a("section",G,[F,m.value.length?(n(),a("div",J,[K,(n(!0),a(M,null,L(m.value,(o,I)=>(n(),a("div",{class:"table__row",key:I},[e("p",null,C(o.idsexo),1),e("p",null,C(o.descripcionSex),1),e("button",{title:"Eliminar",class:"link__button row__button",onClick:U=>D(o.idsexo)},Q,8,O),e("button",{title:"Modificar",class:"link__button row__button",onClick:U=>N(o.idsexo,o.descripcionSex)},Y,8,W)]))),128)),e("div",{class:"modify",ref_key:"modifyTab",ref:k},[e("label",null,[v(" ID "),p(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o)},null,512),[[f,c.value]])]),e("label",null,[v(" Descripcion "),p(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>d.value=o)},null,512),[[f,d.value]])]),e("button",{class:"link__button",onClick:t[2]||(t[2]=o=>V(c.value))}," Guardar "),e("button",{class:"link__button",onClick:t[3]||(t[3]=o=>k.value.style.animation="leave .5s forwards")},"Cancelar")],512),e("section",{class:"newEntry",ref_key:"newTab",ref:h},[Z,x.value?(n(),a("div",{key:0,class:"guardado",ref_key:"saveMsg",ref:y,onAnimationend:$},oe,544)):g("",!0),e("div",le,[e("label",null,[v(" ID "),p(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>i.value=o),required:""},null,512),[[f,i.value]])]),e("label",null,[v(" Descripcion "),p(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>u.value=o),required:""},null,512),[[f,u.value]])]),e("button",{class:"link__button",onClick:S},"Guardar"),e("button",{class:"link__button",onClick:t[6]||(t[6]=o=>h.value.style.animation="leaveNew .5s forwards")}," Cancelar "),b.value?(n(),a("div",se,ae)):g("",!0)])],512)])):(n(),a("div",A,H)),e("div",ie,[q(T,{title:"Inicio",to:"/",class:"link__button btn-table home"},{default:B(()=>[ue]),_:1}),e("button",{onClick:t[7]||(t[7]=o=>h.value.style.animation="enterNew .5s forwards"),title:"Nuevo registro",class:"link__button btn-table new"},re)])])}}};export{pe as default};
